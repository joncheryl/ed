/*
John Sherrill
Feb 16, 2025

Schema for nonfiscal, district level CCD data. Includes 4 tables:
- membership
- staff
- directory (could be retitled 'lea')
- fiscal

I guess you should df.to_sql() the dataframe info into each table. There
is a dtype parameter that should be used with each column either INTEGER, REAL,
or TEXT.
*/

-- NAEP scores
CREATE TABLE naep (
    end_year INTEGER,
    accommodations TEXT,
    math_read TEXT,
    grade INTEGER,
    scale TEXT,
    jurisdiction TEXT,
    errorFlag INTEGER,
    mean REAL,
    sd REAL
);

-- SEA information
CREATE TABLE directory (
    end_year INTEGER,
    fipst INTEGER,
    statename TEXT,
    mstreet1 TEXT,
    mstreet2 TEXT,
    mstreet3 TEXT,
    mcity TEXT,
    mstate TEXT,
    mzip INTEGER,
    mzip4 INTEGER,
    phone TEXT,
    website TEXT,
    st TEXT,
    sea_name TEXT,
    lstreet1 TEXT,
    lstreet2 TEXT,
    lstreet3 TEXT,
    lcity TEXT,
    lstate TEXT,
    lzip INTEGER,
    lzip4 INTEGER,
    g_13_offered TEXT,
    g_ug_offered TEXT,
    ug_tch_offered TEXT,
    operational_schools INTEGER,
    operational_leas INTEGER,
    street TEXT,
    city TEXT,
    zip INTEGER,
    zip4 INTEGER
);

-- Staffing information
CREATE TABLE staff (
    end_year INTEGER,
    fipst INTEGER,
    statename TEXT,
    schsup REAL,
    sectch REAL,
    elmgui REAL,
    kgtch REAL,
    leasup REAL,
    para REAL,
    secgui REAL,
    corsup REAL,
    elmtch REAL,
    libsup REAL,
    schadm REAL,
    stusup REAL,
    gui REAL,
    leaadm REAL,
    libspe REAL,
    othsup REAL,
    pktch REAL,
    ugtch REAL,
    tottch REAL,
    totgui REAL,
    ischsup TEXT,
    isectch TEXT,
    istaff TEXT,
    ielmgui TEXT,
    ikgtch TEXT,
    ileasup TEXT,
    ipara TEXT,
    isecgui TEXT,
    icorsup TEXT,
    ielmtch TEXT,
    ilibsup TEXT,
    ischadm TEXT,
    istusup TEXT,
    igui TEXT,
    ileaadm TEXT,
    ilibspe TEXT,
    iothsup TEXT,
    ipktch TEXT,
    iugtch TEXT,
    itottch TEXT,
    itotgui TEXT,
    st TEXT,
    sea_name TEXT,
    leasta REAL,
    othsta REAL,
    schsta REAL,
    total REAL,
    schpsych REAL,
    stusupwopsych REAL,
    aides REAL,
    iaides TEXT
);

-- Student enrollment information
CREATE TABLE membership (
    end_year INTEGER,
    fipst INTEGER,
    racecat INTEGER,
    student_count INTEGER,
    race_ethnicity TEXT,
    grade TEXT,
    sex TEXT,
    total_indicator TEXT,
    dms_flag TEXT
);

-- Fiscal information
CREATE TABLE fiscal (
    end_year INTEGER,
    fipst INTEGER,
    stabr TEXT,
    stname TEXT,
    r1a INTEGER,
    r1b INTEGER,
    r1c INTEGER,
    r1d INTEGER,
    r1e INTEGER,
    r1f INTEGER,
    r1g INTEGER,
    r1h INTEGER,
    r1i INTEGER,
    r1j INTEGER,
    r1k INTEGER,
    r1l INTEGER,
    r1m INTEGER,
    r1n INTEGER,
    str1 INTEGER,
    r2 INTEGER,
    r3 INTEGER,
    r4a INTEGER,
    r4b INTEGER,
    r4c INTEGER,
    r4d INTEGER,
    str4 INTEGER,
    r5 INTEGER,
    tr INTEGER,
    e11 INTEGER,
    e12 INTEGER,
    e13 INTEGER,
    e14 INTEGER,
    e15 INTEGER,
    e16 INTEGER,
    e17 INTEGER,
    e18 INTEGER,
    ste1 INTEGER,
    e212 INTEGER,
    e213 INTEGER,
    e214 INTEGER,
    e215 INTEGER,
    e216 INTEGER,
    e217 INTEGER,
    e218 INTEGER,
    te21 INTEGER,
    e222 INTEGER,
    e223 INTEGER,
    e224 INTEGER,
    e225 INTEGER,
    e226 INTEGER,
    e227 INTEGER,
    e228 INTEGER,
    te22 INTEGER,
    e232 INTEGER,
    e233 INTEGER,
    e234 INTEGER,
    e235 INTEGER,
    e236 INTEGER,
    e237 INTEGER,
    e238 INTEGER,
    te23 INTEGER,
    e242 INTEGER,
    e243 INTEGER,
    e244 INTEGER,
    e245 INTEGER,
    e246 INTEGER,
    e247 INTEGER,
    e248 INTEGER,
    te24 INTEGER,
    e252 INTEGER,
    e253 INTEGER,
    e254 INTEGER,
    e255 INTEGER,
    e256 INTEGER,
    e257 INTEGER,
    e258 INTEGER,
    te25 INTEGER,
    e262 INTEGER,
    e263 INTEGER,
    e264 INTEGER,
    e265 INTEGER,
    e266 INTEGER,
    e267 INTEGER,
    e268 INTEGER,
    te26 INTEGER,
    ste22 INTEGER,
    ste23 INTEGER,
    ste24 INTEGER,
    ste25 INTEGER,
    ste26 INTEGER,
    ste27 INTEGER,
    ste28 INTEGER,
    ste2t INTEGER,
    e3a11 INTEGER,
    e3a12 INTEGER,
    e3a13 INTEGER,
    e3a14 INTEGER,
    e3a2 INTEGER,
    e3a16 INTEGER,
    e3a1 INTEGER,
    e3b11 INTEGER,
    e3b12 INTEGER,
    e3b13 INTEGER,
    e3b14 INTEGER,
    e3b2 INTEGER,
    e3b16 INTEGER,
    e3b1 INTEGER,
    ste3 INTEGER,
    e4a1 INTEGER,
    e4a2 INTEGER,
    e4b1 INTEGER,
    e4b2 INTEGER,
    e4c1 INTEGER,
    e4c2 INTEGER,
    e4d INTEGER,
    e4e1 INTEGER,
    e4e2 INTEGER,
    ste4 INTEGER,
    te5 INTEGER,
    e61 INTEGER,
    e62 INTEGER,
    e63 INTEGER,
    ste6 INTEGER,
    e7a1 INTEGER,
    e7a2 INTEGER,
    ste7 INTEGER,
    e81 INTEGER,
    e82 INTEGER,
    e9a INTEGER,
    e9b INTEGER,
    e9c INTEGER,
    e9d INTEGER,
    e91 INTEGER,
    ste9 INTEGER,
    te10 INTEGER,
    te11 INTEGER,
    x12c INTEGER,
    x12d INTEGER,
    x12e INTEGER,
    x12f INTEGER,
    tx12 INTEGER,
    nce13 INTEGER,
    ada INTEGER,
    a14a INTEGER,
    a14b INTEGER,
    ir1a TEXT,
    ir1b TEXT,
    ir1c TEXT,
    ir1d TEXT,
    ir1e TEXT,
    ir1f TEXT,
    ir1g TEXT,
    ir1h TEXT,
    ir1i TEXT,
    ir1j TEXT,
    ir1k TEXT,
    ir1l TEXT,
    ir1m TEXT,
    ir1n TEXT,
    istr1 TEXT,
    ir2 TEXT,
    ir3 TEXT,
    ir4a TEXT,
    ir4b TEXT,
    ir4c TEXT,
    ir4d TEXT,
    istr4 TEXT,
    ir5 TEXT,
    itr TEXT,
    ie11 TEXT,
    ie12 TEXT,
    ie13 TEXT,
    ie14 TEXT,
    ie15 TEXT,
    ie16 TEXT,
    ie17 TEXT,
    ie18 TEXT,
    iste1 TEXT,
    ie212 TEXT,
    ie213 TEXT,
    ie214 TEXT,
    ie215 TEXT,
    ie216 TEXT,
    ie217 TEXT,
    ie218 TEXT,
    ite21 TEXT,
    ie222 TEXT,
    ie223 TEXT,
    ie224 TEXT,
    ie225 TEXT,
    ie226 TEXT,
    ie227 TEXT,
    ie228 TEXT,
    ite22 TEXT,
    ie232 TEXT,
    ie233 TEXT,
    ie234 TEXT,
    ie235 TEXT,
    ie236 TEXT,
    ie237 TEXT,
    ie238 TEXT,
    ite23 TEXT,
    ie242 TEXT,
    ie243 TEXT,
    ie244 TEXT,
    ie245 TEXT,
    ie246 TEXT,
    ie247 TEXT,
    ie248 TEXT,
    ite24 TEXT,
    ie252 TEXT,
    ie253 TEXT,
    ie254 TEXT,
    ie255 TEXT,
    ie256 TEXT,
    ie257 TEXT,
    ie258 TEXT,
    ite25 TEXT,
    ie262 TEXT,
    ie263 TEXT,
    ie264 TEXT,
    ie265 TEXT,
    ie266 TEXT,
    ie267 TEXT,
    ie268 TEXT,
    ite26 TEXT,
    iste22 TEXT,
    iste23 TEXT,
    iste24 TEXT,
    iste25 TEXT,
    iste26 TEXT,
    iste27 TEXT,
    iste28 TEXT,
    iste2t TEXT,
    ie3a11 TEXT,
    ie3a12 TEXT,
    ie3a13 TEXT,
    ie3a14 TEXT,
    ie3a2 TEXT,
    ie3a16 TEXT,
    ie3a1 TEXT,
    ie3b11 TEXT,
    ie3b12 TEXT,
    ie3b13 TEXT,
    ie3b14 TEXT,
    ie3b2 TEXT,
    ie3b16 TEXT,
    ie3b1 TEXT,
    iste3 TEXT,
    ie4a1 TEXT,
    ie4a2 TEXT,
    ie4b1 TEXT,
    ie4b2 TEXT,
    ie4c1 TEXT,
    ie4c2 TEXT,
    ie4d TEXT,
    ie4e1 TEXT,
    ie4e2 TEXT,
    iste4 TEXT,
    ite5 TEXT,
    ie61 TEXT,
    ie62 TEXT,
    ie63 TEXT,
    iste6 TEXT,
    ie7a1 TEXT,
    ie7a2 TEXT,
    iste7 TEXT,
    ie81 TEXT,
    ie82 TEXT,
    ie9a TEXT,
    ie9b TEXT,
    ie9c TEXT,
    ie9d TEXT,
    ie91 TEXT,
    iste9 TEXT,
    ite10 TEXT,
    ite11 TEXT,
    ix12c TEXT,
    ix12d TEXT,
    ix12e TEXT,
    ix12f TEXT,
    itx12 TEXT,
    ince13 TEXT,
    iada TEXT,
    ia14a TEXT,
    ia14b TEXT,
    e611 INTEGER,
    e612 INTEGER,
    e62a INTEGER,
    e62b INTEGER,
    ie611 TEXT,
    ie612 TEXT,
    ie62a TEXT,
    ie62b TEXT,
    e__01 INTEGER,
    e__02 INTEGER,
    e__03 INTEGER,
    e__04 INTEGER,
    e__05 INTEGER,
    e__06 INTEGER,
    t__04 INTEGER,
    t__05 INTEGER,
    t__06 INTEGER,
    x__01 INTEGER,
    x__02 INTEGER,
    t__08 INTEGER,
    x__03 INTEGER,
    x__04 INTEGER,
    t__09 INTEGER,
    t__12 INTEGER,
    t__13 INTEGER,
    t__14 INTEGER,
    c__01 INTEGER,
    c__02 INTEGER,
    t__15 INTEGER,
    t__16 INTEGER,
    f__01 INTEGER,
    f__03 INTEGER,
    t__27 INTEGER,
    f__02 INTEGER,
    f__04 INTEGER,
    t__28 INTEGER,
    t__25 INTEGER,
    t__26 INTEGER,
    t__29 INTEGER,
    x__05 INTEGER,
    x__06 INTEGER,
    t__10 INTEGER,
    r__01r INTEGER,
    r__03r INTEGER,
    r__04r INTEGER,
    t__01r INTEGER,
    ie9d_ TEXT,
    ite6 TEXT,
    ppe15 INTEGER,
    ippe15 TEXT,
    e11a INTEGER,
    e11b INTEGER,
    e11c INTEGER,
    e11d INTEGER,
    e2 INTEGER,
    ie11a TEXT,
    ie11b TEXT,
    ie11c TEXT,
    ie11d TEXT,
    ie2 TEXT,
    arraste1 INTEGER,
    arrate5 INTEGER,
    arrae81z INTEGER,
    arrate10 INTEGER,
    arraste6 INTEGER,
    arratleiz INTEGER,
    arraste4 INTEGER,
    iarraste1 TEXT,
    iarrate5 TEXT,
    iarrae81z TEXT,
    iarrate10 TEXT,
    iarraste6 TEXT,
    iarratleiz TEXT,
    iarraste4 TEXT,
    ce1 INTEGER,
    ce2 INTEGER,
    ice1 TEXT,
    ice2 TEXT,
    ar1 INTEGER,
    ar2 INTEGER,
    ar3 INTEGER,
    ar4 INTEGER,
    ar5 INTEGER,
    ar6 INTEGER,
    ar7 INTEGER,
    ar8 INTEGER,
    ae1 INTEGER,
    ae2 INTEGER,
    ae3 INTEGER,
    ae4 INTEGER,
    ae5 INTEGER,
    ae6 INTEGER,
    ae7 INTEGER,
    ae8 INTEGER,
    iar1 TEXT,
    iar2 TEXT,
    iar3 TEXT,
    iar4 TEXT,
    iar5 TEXT,
    iar6 TEXT,
    iar7 TEXT,
    iar8 TEXT,
    iae1 TEXT,
    iae2 TEXT,
    iae3 TEXT,
    iae4 TEXT,
    iae5 TEXT,
    iae6 TEXT,
    iae7 TEXT,
    iae8 TEXT,
    ar1a INTEGER,
    ar1b INTEGER,
    ar2a INTEGER,
    ar6a INTEGER,
    iar1a TEXT,
    iar1b TEXT,
    iar2a TEXT,
    iar6a TEXT,
    ae1a INTEGER,
    ae1b INTEGER,
    ae1c INTEGER,
    ae1d INTEGER,
    ae1e INTEGER,
    ae1f INTEGER,
    ae1g INTEGER,
    ae2a INTEGER,
    ae2b INTEGER,
    ae2c INTEGER,
    ae2d INTEGER,
    ae2e INTEGER,
    ae2f INTEGER,
    ae2g INTEGER,
    ae4a INTEGER,
    ae4b INTEGER,
    ae4c INTEGER,
    ae4d INTEGER,
    ae4e INTEGER,
    ae4f INTEGER,
    ae4g INTEGER,
    iae1a TEXT,
    iae1b TEXT,
    iae1c TEXT,
    iae1d TEXT,
    iae1e TEXT,
    iae1f TEXT,
    iae1g TEXT,
    iae2a TEXT,
    iae2b TEXT,
    iae2c TEXT,
    iae2d TEXT,
    iae2e TEXT,
    iae2f TEXT,
    iae2g TEXT,
    iae4a TEXT,
    iae4b TEXT,
    iae4c TEXT,
    iae4d TEXT,
    iae4e TEXT,
    iae4f TEXT,
    iae4g TEXT
);

-- Indexes to speed up common queries
-- CREATE INDEX idx_membership_end_year_leaid ON membership (end_year, leaid);
-- CREATE INDEX idx_fiscal_end_year_leaid ON fiscal (end_year, leaid);
-- CREATE INDEX idx_membership_total_indicator ON membership (total_indicator);
